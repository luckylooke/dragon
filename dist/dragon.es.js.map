{"version":3,"file":"dragon.es.js","sources":["../node_modules/middle.js/dist/middle.es.js","../node_modules/@dragon/utils/utils.js","../node_modules/custom-event/index.js","../node_modules/crossvent/src/crossvent.js","../node_modules/@dragon/touchy/touchy.js","../node_modules/@dragon/dom-classes/classes.js","../src/dragon.lib.js","../node_modules/@dragon/polyfills/polyfills.js","../node_modules/@dragon/core/drag.js","../node_modules/@dragon/core/item.js","../node_modules/@dragon/core/container.js","../node_modules/@dragon/core/dragon.js","../node_modules/crossvent/src/eventmap.js"],"sourcesContent":["function middle(e,t){var _=function t(){var n=Array.prototype.slice.call(arguments);return void 0===_._m_ctx&&(_._m_ctx=this),_._m_stack.length===_._m_index?(_._m_index=0,e.apply(_._m_ctx,n)):(n.unshift(t),_._m_stack[_._m_index++].apply(_._m_ctx,n))};return _._m_stack=[],_._m_index=0,_._m_ctx=t,_.use=function(e,t){_._m_stack.push(e.bind(t))},_}function decorator(e,t,_){if(e){var n=_.writable,i=_.enumerable;return{get:function(){var e=middle(_.value,this);return Object.defineProperty(this,t,{value:e,writable:n,enumerable:i}),e}}}}export{decorator};export default middle;\n//# sourceMappingURL=middle.es.js.map\n","let doc = document\nlet docElm = doc.documentElement\n\nexport default {\n\n\t// getImmediateChild: getImmediateChild,\n\t// getReference: getReference,\n\t// getCoord: getCoord,\n\t// getEventHost: getEventHost,\n\t// getOffset: getOffset,\n\t// getScroll: getScroll,\n\t// getElementBehindPoint: getElementBehindPoint,\n\t// getRectWidth: getRectWidth,\n\t// getRectHeight: getRectHeight,\n\t// getParent: getParent,\n\t// nextEl: nextEl,\n\t// toArray: toArray,\n\t// bind: bind,\n\t// domIndexOf: domIndexOf,\n\t// isInput: isInput,\n\t// isEditable: isEditable,\n\t// getIndexByElm: getIndexByElm,\n\t// ensureArray: ensureArray,\n}\n\nexport function getImmediateChild( dropTarget, target ) {\n\n\tlet immediate = target\n\n\twhile ( immediate !== dropTarget && getParent( immediate ) !== dropTarget ) {\n\t\timmediate = getParent( immediate )\n\t}\n\n\tif ( immediate === docElm ) {\n\t\treturn null\n\t}\n\n\treturn immediate\n}\n\nexport function getReference( dropTarget, target, x, y, direction, abs ) {\n\n\tlet horizontal = direction === 'horizontal'\n\n\tif ( abs ) {\n\t\tx = x - getScroll( 'scrollLeft', 'pageXOffset' )\n\t\ty = y - getScroll( 'scrollTop', 'pageYOffset' )\n\t}\n\treturn target !== dropTarget ? inside() : outside() // reference\n\n\tfunction outside() { // slower, but able to figure out any position\n\t\tlet len = dropTarget.children.length,\n\t\t\ti,\n\t\t\tel,\n\t\t\trect\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\n\t\t\tel = dropTarget.children[ i ]\n\t\t\trect = el.getBoundingClientRect()\n\n\t\t\tif ( horizontal && (rect.left + rect.width / 2) > x ) {\n\t\t\t\treturn el\n\t\t\t}\n\n\t\t\tif ( !horizontal && (rect.top + rect.height / 2) > y ) {\n\t\t\t\treturn el\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n\n\tfunction inside() { // faster, but only available if dropped inside a child element\n\n\t\tlet rect = target.getBoundingClientRect()\n\n\t\tif ( horizontal ) {\n\t\t\treturn resolve( x > rect.left + getRectWidth( rect ) / 2 )\n\t\t}\n\n\t\treturn resolve( y > rect.top + getRectHeight( rect ) / 2 )\n\t}\n\n\tfunction resolve( after ) {\n\n\t\treturn after ? nextEl( target ) : target\n\t}\n}\n\nexport function getCoord( coord, e ) {\n\n\tlet host = getEventHost( e )\n\tlet missMap = {\n\t\tpageX: 'clientX', // IE8\n\t\tpageY: 'clientY' // IE8\n\t}\n\n\tif ( coord in missMap && !(coord in host) && missMap[ coord ] in host ) {\n\t\tcoord = missMap[ coord ]\n\t}\n\n\treturn host[ coord ]\n}\n\nexport function getEventHost( e ) {\n\n\t// on touchend event, we have to use `e.changedTouches`\n\t// see http://stackoverflow.com/questions/7192563/touchend-event-properties\n\t// see github.com/bevacqua/dragula/issues/34\n\tif ( e.targetTouches && e.targetTouches.length ) {\n\t\treturn e.targetTouches[ 0 ]\n\t}\n\n\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\treturn e.changedTouches[ 0 ]\n\t}\n\n\treturn e\n}\n\nexport function whichMouseButton (e) {\n\n  // if (e.touches !== void 0) { return e.touches.length }\n  if (e.touches !== void 0) { return 1 } // accept all touches\n  if (e.which !== void 0 && e.which !== 0) { return e.which } // see github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons }\n  let button = e.button\n  if (button !== void 0) { // see github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0)\n  }\n}\n\n// get offset of element from top left corner of document\nexport function getOffset( el, size ) {\n\n\tlet rect = el.getBoundingClientRect()\n\tlet result = {\n\t\tleft: rect.left + getScroll( 'scrollLeft', 'pageXOffset' ),\n\t\ttop: rect.top + getScroll( 'scrollTop', 'pageYOffset' )\n\t}\n\n\tif ( size ) {\n\n\t\tresult.width = getRectWidth( rect )\n\t\tresult.height = getRectHeight( rect )\n\t}\n\n\treturn result\n}\n\nexport function getScroll( scrollProp, offsetProp ) {\n\n\tif ( typeof global[ offsetProp ] !== 'undefined' ) {\n\t\treturn global[ offsetProp ]\n\t}\n\n\tif ( docElm.clientHeight ) {\n\t\treturn docElm[ scrollProp ]\n\t}\n\n\treturn doc.body[ scrollProp ]\n}\n\nexport function getElementBehindPoint( elmToHide, x, y, abs ) {\n\n\tlet state = elmToHide.className\n\tlet el\n\n\t// hide elmToHide\n\telmToHide.className += ' gu-hide'\n\t// look at the position\n\tel = doc.elementFromPoint(\n\t\tabs ? x - getScroll( 'scrollLeft', 'pageXOffset' ) : x,\n\t\tabs ? y - getScroll( 'scrollTop', 'pageYOffset' ) : y\n\t)\n\t// show elmToHide back\n\telmToHide.className = state\n\n\treturn el\n}\n\nexport function getRectWidth( rect ) {\n\n\treturn rect.width || (rect.right - rect.left)\n}\n\nexport function getRectHeight( rect ) {\n\n\treturn rect.height || (rect.bottom - rect.top)\n}\n\nexport function getParent( el ) {\n\n\treturn el.parentNode === doc ? null : el.parentNode\n}\n\nexport function nextEl( el ) {\n\n\treturn el.nextElementSibling || manually()\n\n\tfunction manually() {\n\t\tlet sibling = el\n\t\tdo {\n\t\t\tsibling = sibling.nextSibling\n\t\t} while ( sibling && sibling.nodeType !== 1 )\n\t\treturn sibling\n\t}\n}\n\nexport function toArray( obj ) {\n\n\treturn [].slice.call( obj )\n}\n\nexport function ensureArray( it ) {\n\n\tif ( Array.isArray( it ) )\n\n\t\treturn it\n\n\telse if ( it.length && it.length != 0 )\n\n\t\treturn toArray( it )\n\n\telse\n\n\t\treturn [ it ]\n}\n\nexport function bind( obj, methodName ) {\n\n\tlet bindedName = '_binded_' + methodName\n\n\tif ( !obj[ bindedName ] )\n\t\tobj[ bindedName ] = function () {\n\t\t\treturn obj[ methodName ].apply( obj, arguments )\n\t\t}\n\n\treturn obj[ bindedName ]\n}\n\nexport function domIndexOf( parent, child ) {\n\t// Possible problems with IE8- ? https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/children#Browser_compatibility\n\treturn Array.prototype.indexOf.call( parent.children, child )\n}\n\nexport function isInput( el ) {\n\treturn el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable( el )\n}\n\nexport function isEditable( el ) {\n\n\tif ( !el ) {\n\t\treturn false\n\t}\n\t// no parents were editable\n\tif ( el.contentEditable === 'false' ) {\n\t\treturn false\n\t}\n\t// stop the lookup\n\tif ( el.contentEditable === 'true' ) {\n\t\treturn true\n\t}\n\t// found a contentEditable element in the chain\n\treturn isEditable( getParent( el ) ) // contentEditable is set to 'inherit'\n}\n\nexport function getIndexByElm( sourceArray, elm ) {\n\n\tlet len = sourceArray.length\n\n\tfor ( let i = 0; i < len; i++ ) {\n\n\t\tif ( sourceArray[ i ].elm == elm )\n\t\t\treturn i\n\t}\n\n\treturn -1\n}\n\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","'use strict';\n\nvar customEvent = require('custom-event');\nvar eventmap = require('./eventmap');\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n","import crossvent from 'crossvent'\n\nexport default function touchy( el, op, type, fn ) {\n\n\tlet touch = {\n\t\tmouseup: 'touchend',\n\t\tmousedown: 'touchstart',\n\t\tmousemove: 'touchmove'\n\t}\n\n\tlet pointers = {\n\t\tmouseup: 'pointerup',\n\t\tmousedown: 'pointerdown',\n\t\tmousemove: 'pointermove'\n\t}\n\n\tlet microsoft = {\n\t\tmouseup: 'MSPointerUp',\n\t\tmousedown: 'MSPointerDown',\n\t\tmousemove: 'MSPointerMove'\n\t}\n\n\t/** @namespace global.navigator.pointerEnabled -- resolving webstorm unresolved variables */\n\t/** @namespace global.navigator.msPointerEnabled -- resolving webstorm unresolved variables */\n\tif ( global.navigator.pointerEnabled ) {\n\n\t\tcrossvent[ op ]( el, pointers[ type ] || type, fn )\n\t} else if ( global.navigator.msPointerEnabled ) {\n\n\t\tcrossvent[ op ]( el, microsoft[ type ] || type, fn )\n\t} else {\n\n\t\tcrossvent[ op ]( el, touch[ type ] || type, fn )\n\t\tcrossvent[ op ]( el, type, fn )\n\t}\n}","let cache = {}\nlet start = '(?:^|\\\\s)'\nlet end = '(?:\\\\s|$)'\n\nfunction lookup( className ) {\n\n\tlet cached = cache[ className ]\n\n\tif ( cached ) {\n\n\t\tcached.lastIndex = 0\n\t}\n\telse {\n\n\t\tcache[ className ] = cached = new RegExp( start + className + end, 'g' )\n\t}\n\n\treturn cached\n}\n\nfunction add( el, className ) {\n\n\tlet current = el.className\n\n\tif ( !current.length ) {\n\n\t\tel.className = className\n\t}\n\telse if ( !lookup( className ).test( current ) ) {\n\n\t\tel.className += ' ' + className\n\t}\n}\n\nfunction rm( el, className ) {\n\n\tel.className = el.className.replace( lookup( className ), ' ' ).trim()\n}\n\nexport default {\n\tadd,\n\trm\n}\n","import              '@dragon/polyfills'\nimport  Dragon       from '@dragon/core'\nimport  * as utils   from '@dragon/utils'\nimport  touchy       from '@dragon/touchy' // cross dom event management\nimport  classes      from '@dragon/dom-classes'\n\nexport default function dragon( config ) {\n\n\treturn new Dragon( config, utils, touchy, classes )\n}\n","/**\n * Element.classList polyfill for IE<10\n * Polyfill from https://github.com/remy/polyfills/blob/master/classList.js#Polyfill\n */\n\n(function () {\n\n\tif ( typeof window.Element === 'undefined' || 'classList' in document.documentElement ) return\n\n\tlet prototype = Array.prototype,\n\t\tpush = prototype.push,\n\t\tsplice = prototype.splice,\n\t\tjoin = prototype.join\n\n\tfunction DOMTokenList( el ) {\n\t\tthis.el = el\n\t\t// The className needs to be trimmed and split on whitespace\n\t\t// to retrieve a list of classes.\n\t\tlet classes = el.className.replace( /^\\s+|\\s+$/g, '' ).split( /\\s+/ )\n\t\tfor ( let i = 0; i < classes.length; i++ ) {\n\t\t\tpush.call( this, classes[ i ] )\n\t\t}\n\t}\n\n\tDOMTokenList.prototype = {\n\t\tadd: function ( token ) {\n\t\t\tif ( this.contains( token ) ) return\n\t\t\tpush.call( this, token )\n\t\t\tthis.el.className = this.toString()\n\t\t},\n\t\tcontains: function ( token ) {\n\t\t\treturn this.el.className.indexOf( token ) != -1\n\t\t},\n\t\titem: function ( index ) {\n\t\t\treturn this[ index ] || null\n\t\t},\n\t\tremove: function ( token ) {\n\t\t\tif ( !this.contains( token ) ) return\n\t\t\tlet i\n\t\t\tfor ( i = 0; i < this.length; i++ ) {\n\t\t\t\tif ( this[ i ] == token ) break\n\t\t\t}\n\t\t\tsplice.call( this, i, 1 )\n\t\t\tthis.el.className = this.toString()\n\t\t},\n\t\ttoString: function () {\n\t\t\treturn join.call( this, ' ' )\n\t\t},\n\t\ttoggle: function ( token ) {\n\t\t\tif ( !this.contains( token ) ) {\n\t\t\t\tthis.add( token )\n\t\t\t} else {\n\t\t\t\tthis.remove( token )\n\t\t\t}\n\n\t\t\treturn this.contains( token )\n\t\t}\n\t}\n\n\twindow.DOMTokenList = DOMTokenList\n\n\tfunction defineElementGetter( obj, prop, getter ) {\n\t\tif ( Object.defineProperty ) {\n\t\t\tObject.defineProperty( obj, prop, {\n\t\t\t\tget: getter\n\t\t\t} )\n\t\t} else {\n\t\t\tobj.__defineGetter__( prop, getter )\n\t\t}\n\t}\n\n\tdefineElementGetter( Element.prototype, 'classList', function () {\n\t\treturn new DOMTokenList( this )\n\t} )\n\n})()\n","import { decorator as middle } from 'middle.js'\n\nlet docElm = document.documentElement\n\nexport default class Drag {\n\n\tconstructor( item ) {\n\n\t\t// this.mirror // mirror image\n\t\t// this.source // source container element\n\t\t// this.source // source Container object\n\t\t// this.itemElm // item element being dragged\n\t\t// this.itemOffsetX // reference x offset event from itemElement corner\n\t\t// this.itemOffsetY // reference y\n\t\t// this.x // reference move x - by default clientX + mirrorContainer.scrollX of first event occurrence starting the drag\n\t\t// this.y // reference move y\n\t\t// this.initialSibling // reference sibling when grabbed\n\t\t// this.currentSibling // reference sibling now\n\t\t// this.state // holds Drag state (grabbed, dragging, dropped...)\n\n\t\tthis.id = 'dragID_' + Date.now()\n\t\tthis.state = 'grabbed'\n\t\tthis.item = item\n\t\tthis.itemElm = item.elm\n\t\tthis.sourceContainer = item.container\n\t\tthis.source = item.container.elm\n\t\tthis.dragon = this.sourceContainer.dragon\n\t\tthis.utils = this.dragon.utils\n\t\tthis.domEventManager = this.dragon.domEventManager\n\t\tthis.domClassManager = this.dragon.domClassManager\n\t\tthis.findDropTarget = this.dragon.findDropTarget.bind( this.dragon )\n\n\t\tif ( this.getConfig( 'mouseEvents' ) )\n\t\t\tthis.mouseEvents()\n\t}\n\n\t@middle\n\tdestroy() {\n\n\t\tthis.release( this.x, this.y )\n\t}\n\n\t@middle\n\tmouseEvents( remove ) {\n\n\t\tif ( !this._mousemove ) // if not initialised yet\n\t\t// use requestAnimationFrame while dragging if available\n\t\t\tif ( window.requestAnimationFrame ) {\n\n\t\t\t\tthis.move_e = null\n\t\t\t\tthis._mousemove = this._mousemoveAF\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis._mousemove = this.mousemove\n\n\t\tlet op = remove ? 'remove' : 'add'\n\t\tthis.domEventManager( docElm, op, 'mouseup', this.utils.bind( this, 'mouseup' ) )\n\t\tthis.domEventManager( docElm, op, 'mousemove', this.utils.bind( this, '_mousemove' ) )\n\t\tthis.domEventManager( docElm, op, 'selectstart', this.utils.bind( this, 'protectGrab' ) ) // IE8\n\t\tthis.domEventManager( docElm, op, 'click', this.utils.bind( this, 'protectGrab' ) )\n\t}\n\n\t@middle\n\tprotectGrab( e ) {\n\n\t\tif ( this.state == 'grabbed' ) {\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\n\t@middle\n\tmousemove( e ) {\n\n\t\tif ( !e.target ) {\n\n\t\t\te = this.move_e\n\t\t\tthis.move_e = false\n\t\t}\n\n\t\tif ( this.state == 'grabbed' ) {\n\n\t\t\tthis.startByMouseMove( e )\n\t\t\treturn\n\t\t}\n\n\t\tif ( this.state != 'dragging' ) {\n\n\t\t\tthis.cancel()\n\t\t\treturn\n\t\t}\n\n\t\te.preventDefault()\n\n\t\tthis.drag(\n\t\t\tthis.utils.getCoord( 'clientX', e ),\n\t\t\tthis.utils.getCoord( 'clientY', e )\n\t\t)\n\t}\n\n\t_mousemoveAF( e ) {\n\n\t\tif ( !this.move_e )\n\t\t\tthis.actualFrame = window.requestAnimationFrame( this.mousemove )\n\n\t\tthis.move_e = e\n\t}\n\n\t@middle\n\tstartByMouseMove( e ) {\n\n\t\t// if (whichMouseButton(e) === 0) {\n\t\t//   release({})\n\t\t//   return // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n\t\t// }\n\n\t\tif ( this.x == undefined ) {\n\n\t\t\tthis.x = e.clientX\n\t\t\tthis.y = e.clientY\n\t\t\treturn\n\t\t}\n\n\t\t// truthy check fixes github.com/bevacqua/dragula/issues/239, equality fixes github.com/bevacqua/dragula/issues/207\n\t\tif ( e.clientX !== void 0 && e.clientX === this.x && e.clientY !== void 0 && e.clientY === this.y )\n\t\t\treturn\n\n\t\tlet offset = this.utils.getOffset( this.itemElm )\n\n\t\tthis.start(\n\t\t\tthis.utils.getCoord( 'pageX', e ) - offset.left,\n\t\t\tthis.utils.getCoord( 'pageY', e ) - offset.top\n\t\t)\n\t}\n\n\t@middle\n\tstart( x, y ) {\n\n\t\tif ( this.state != 'grabbed' )\n\t\t\treturn\n\n\t\tx = x || 0\n\t\ty = y || 0\n\n\t\tthis._cachedAbs = this.getConfig( 'mirrorAbsolute' )\n\t\tthis._cachedDir = this.getConfig( 'direction' )\n\n\t\tlet itemPosition = this._cachedAbs ? this.utils.getOffset( this.itemElm ) : this.itemElm.getBoundingClientRect()\n\n\t\tif ( this.x == undefined )\n\t\t\tthis.x = itemPosition.left + x\n\n\t\tif ( this.y == undefined )\n\t\t\tthis.y = itemPosition.top + y\n\n\t\t// offset of mouse event from top left corner of the itemElm\n\t\tthis.itemOffsetX = x\n\t\tthis.itemOffsetY = y\n\n\t\tthis.initialSibling = this.currentSibling = this.utils.nextEl( this.itemElm )\n\t\tthis.domClassManager.add( this.itemElm, 'gu-transit' )\n\t\tthis.renderMirrorImage( this.itemElm, this.getConfig( 'mirrorContainer' ) )\n\n\t\tthis.state = 'dragging'\n\t}\n\n\t@middle\n\tdrag( x, y ) {\n\n\t\tif ( this.state != 'dragging' )\n\t\t\treturn\n\n\t\tlet mirrorX = x - this.itemOffsetX\n\t\tlet mirrorY = y - this.itemOffsetY\n\t\tlet mirror = this.mirror\n\n\t\tthis.x = x\n\t\tthis.y = y\n\n\t\tmirror.style.left = mirrorX + 'px'\n\t\tmirror.style.top = mirrorY + 'px'\n\n\t\tlet elementBehindPoint = this.utils.getElementBehindPoint( mirror, x, y, this._cachedAbs )\n\t\tlet dropTarget = this.findDropTarget( elementBehindPoint )\n\t\tlet reference\n\t\tlet immediate = dropTarget && this.utils.getImmediateChild( dropTarget, elementBehindPoint )\n\n\t\tif ( immediate ) {\n\n\t\t\treference = this.utils.getReference( dropTarget, immediate, x, y, this._cachedDir, this._cachedAbs )\n\t\t}\n\t\telse {\n\n\t\t\treturn\n\t\t}\n\n\t\tif (\n\n\t\t\treference === null ||\n\t\t\treference !== this.itemElm &&\n\t\t\treference !== this.utils.nextEl( this.itemElm )\n\t\t) {\n\n\t\t\tthis.currentSibling = reference\n\t\t\tdropTarget.insertBefore( this.itemElm, reference )\n\t\t}\n\t}\n\n\t@middle\n\trenderMirrorImage( itemElm, mirrorContainer ) {\n\n\t\tlet rect = itemElm.getBoundingClientRect()\n\t\tlet mirror = this.getConfig( 'mirrorWithParent' ) ? this.utils.getParent( itemElm ).cloneNode( false ) : itemElm.cloneNode( true )\n\n\t\tif ( this.getConfig( 'mirrorWithParent' ) ) \n\t\t\tmirror.appendChild( itemElm.cloneNode( true ) )\n\t\t\n\t\tmirror.style.width = this.utils.getRectWidth( rect ) + 'px'\n\t\tmirror.style.height = this.utils.getRectHeight( rect ) + 'px'\n\t\tthis.domClassManager.rm( mirror, 'gu-transit' )\n\n\t\tif ( this.getConfig( 'mirrorAbsolute' ) )\n\n\t\t\tthis.domClassManager.add( mirror, 'gu-mirror-abs' )\n\t\telse\n\t\t\tthis.domClassManager.add( mirror, 'gu-mirror' )\n\n\t\tif ( !mirrorContainer )\n\t\t\tmirrorContainer = ( this.getConfig( 'mirrorWithParent' ) ? this.utils.getParent( this.utils.getParent( itemElm ) ) : this.utils.getParent( itemElm ) ) || document.body\n\n\t\tmirrorContainer.appendChild( mirror )\n\t\tthis.domClassManager.add( mirrorContainer, 'gu-unselectable' )\n\n\t\tthis.mirror = mirror\n\t}\n\n\t@middle\n\tremoveMirrorImage() {\n\n\t\tlet mirrorContainer = this.utils.getParent( this.mirror )\n\t\tthis.domClassManager.rm( mirrorContainer, 'gu-unselectable' )\n\t\tmirrorContainer.removeChild( this.mirror )\n\t\tthis.mirror = null\n\t}\n\n\t@middle\n\tmouseup( e ) {\n\n\t\tthis.release(\n\t\t\tthis.utils.getCoord( 'clientX', e ),\n\t\t\tthis.utils.getCoord( 'clientY', e )\n\t\t)\n\t}\n\n\t@middle\n\trelease( x, y ) {\n\n\t\tif ( x == undefined )\n\t\t\tx = this.x\n\n\t\tif ( y == undefined )\n\t\t\ty = this.y\n\n\t\tif ( this.state != 'dragging' )\n\t\t\treturn this.cancel()\n\n\t\t// if requestAnimationFrame mode is used, cancel latest request\n\t\tif ( this.actualFrame ) {\n\t\t\twindow.cancelAnimationFrame( this.actualFrame )\n\t\t\tthis.actualFrame = false\n\t\t}\n\n\t\tlet elementBehindPoint = this.utils.getElementBehindPoint( this.mirror, x, y, this._cachedAbs )\n\t\tlet dropTarget = this.findDropTarget( elementBehindPoint )\n\n\t\tif ( dropTarget && dropTarget !== this.source ) {\n\n\t\t\tthis.drop( dropTarget )\n\t\t}\n\t\telse {\n\n\t\t\tthis.cancel()\n\t\t}\n\t}\n\n\t@middle\n\tdrop( dropTarget ) {\n\n\t\tif ( this.state != 'dragging' )\n\t\t\treturn\n\n\t\tlet container = this.dragon.getContainer( dropTarget )\n\t\tcontainer.addItem( this.item, this.utils.domIndexOf( dropTarget, this.itemElm ) )\n\t\tthis.state = 'dropped'\n\n\t\tthis.cleanup()\n\t}\n\n\t@middle\n\tremove() {\n\n\t\tif ( this.state != 'dragging' )\n\t\t\treturn\n\n\t\tlet parent = this.utils.getParent( this.itemElm )\n\t\tif ( parent ) {\n\t\t\tparent.removeChild( this.itemElm )\n\t\t}\n\n\t\tthis.state = 'removed'\n\n\t\tthis.cleanup()\n\t}\n\n\t@middle\n\tcancel( reverts ) {\n\n\t\tif ( this.state == 'dragging' ) {\n\n\t\t\tlet parent = this.utils.getParent( this.itemElm )\n\t\t\tlet initial = this.isInitialPlacement( parent )\n\t\t\tif ( initial === false && reverts ) {\n\t\t\t\tthis.source.insertBefore( this.itemElm, this.initialSibling )\n\t\t\t}\n\t\t}\n\n\t\tthis.state = 'cancelled'\n\n\t\tthis.cleanup()\n\t}\n\n\t@middle\n\tcleanup() {\n\n\t\tthis.mouseEvents( 'remove' )\n\n\t\tif ( this.mirror )\n\t\t\tthis.removeMirrorImage()\n\n\t\tif ( this.itemElm ) {\n\t\t\tthis.domClassManager.rm( this.itemElm, 'gu-transit' )\n\t\t}\n\t}\n\n\t@middle\n\tisInitialPlacement( target, s ) {\n\n\t\tlet sibling\n\n\t\tif ( s !== void 0 ) {\n\n\t\t\tsibling = s\n\t\t}\n\t\telse if ( this.mirror ) {\n\n\t\t\tsibling = this.currentSibling\n\t\t}\n\t\telse {\n\n\t\t\tsibling = this.utils.nextEl( this.itemElm )\n\t\t}\n\n\t\treturn target === this.source && sibling === this.initialSibling\n\t}\n\n\t@middle\n\tgetConfig( prop ) {\n\n\t\treturn this.item.getConfig( prop )\n\t}\n}\n","import Drag from './drag'\nimport { decorator as middle } from 'middle.js'\n\nexport default class Item {\n\n\tconstructor( container, elm, config ) {\n\n\t\tif ( !config )\n\t\t\tconfig = {}\n\n\t\tthis.config = config\n\t\tthis.id = config.id || 'itemID_' + Date.now()\n\t\tthis.container = container\n\t\tthis.elm = elm\n\t}\n\n\t@middle\n\tgrab() {\n\n\t\tthis.drag = new Drag( this )\n\t\treturn this.drag\n\t}\n\n\t@middle\n\tgetConfig( prop ) {\n\n\t\tprop = this.config.hasOwnProperty( prop ) ? this.config[ prop ] : this.container.getConfig( prop )\n\t\treturn typeof prop == 'function' ? prop() : prop\n\t}\n}","import Item from './item'\nimport { decorator as middle } from 'middle.js'\n\nexport default class Container {\n\n\tconstructor( dragon, elm, config ) {\n\n\t\tif ( !config )\n\t\t\tconfig = {}\n\n\t\tthis.config = config\n\t\tthis.id = config.id || 'containerID_' + Date.now()\n\t\tthis.dragon = dragon\n\t\tthis.utils = dragon.utils\n\t\tthis.items = []\n\t\tthis.elm = elm\n\n\t\tthis._initItems()\n\t}\n\n\t@middle\n\tgrab( itemElm ) {\n\n\t\tlet item = this.items[ this.utils.getIndexByElm( this.items, itemElm ) ]\n\t\treturn item ? item.grab() : null\n\t}\n\n\t_initItem( itemOrElm ) {\n\n\t\tthis.addItem( itemOrElm, this.items.length, null, true )\n\t}\n\n\t@middle\n\taddItem( itemOrElm, index, config, init ) {\n\n\t\tindex = index || 0\n\n\t\tlet item\n\n\t\tif ( itemOrElm instanceof Item ) {\n\n\t\t\titemOrElm.container = this\n\t\t\titem = itemOrElm\n\t\t} else {\n\n\t\t\titem = new Item( this, itemOrElm, config )\n\t\t}\n\n\t\tthis.items.splice( index, 0, item )\n\n\t\tif ( !init && !this.elm.contains( item.elm ) ) {\n\t\t\t// sync DOM\n\t\t\tlet reference = this.elm.children[ index ]\n\n\t\t\tif ( reference )\n\t\t\t\tthis.elm.insertBefore( item.elm, reference )\n\t\t\telse\n\t\t\t\tthis.elm.appendChild( item.elm )\n\t\t}\n\n\t\treturn item\n\t}\n\n\t@middle\n\tremoveItem( itemOrElm ) {\n\n\t\tlet index\n\t\tlet item\n\n\t\tif ( itemOrElm instanceof Item ) {\n\n\t\t\titemOrElm.container = null\n\t\t\tindex = this.items.indexOf( itemOrElm )\n\t\t} else {\n\n\t\t\tindex = this.utils.getIndexByElm( this.items, itemOrElm )\n\t\t}\n\n\t\titem = this.items.splice( index, 1 )[0]\n\n\t\tif ( this.elm.contains( item.elm ) ) {\n\t\t\t// sync DOM\n\t\t\tthis.elm.removeChild( item.elm )\n\t\t}\n\n\t\treturn item\n\t}\n\n\t_initItems() {\n\n\t\tlet arr = this.utils.toArray( this.elm.children )\n\t\tlet len = arr.length\n\n\t\tfor ( let i = 0; i < len; i++ ) {\n\t\t\tthis._initItem( arr[ i ] )\n\t\t}\n\t}\n\n\t@middle\n\tgetConfig( prop ) {\n\n\t\tprop = this.config.hasOwnProperty( prop ) ? this.config[ prop ] : this.dragon.getConfig( prop )\n\t\treturn typeof prop == 'function' ? prop() : prop\n\t}\n}","\nimport Container from './container'\nimport { decorator as middle } from 'middle.js'\n\nlet doc = document\n\nif ( !window.dragonSpace )\n\twindow.dragonSpace = {}\nlet space = window.dragonSpace\n\n// ==============================================================================================================================================================\n// Dragon =====================================================================================================================================================\n// =============================================================================================================================================================\n/** is group of containers */\nexport default class Dragon {\n\n\tconstructor( config, utils, domEventManager, domClassManager ) {\n\n\t\tconfig = config || {}\n\n\t\tif ( config.nodeType == 1 ) // is DOM Element\n\t\t\tconfig = { containers: [ config ] }\n\n\t\tthis.utils = utils\n\n\t\tif ( typeof config.length !== 'undefined' ) // is array-like\n\t\t\tconfig = { containers: this.utils.ensureArray( config ) }\n\n\n\t\tthis.domEventManager = domEventManager\n\t\tthis.domClassManager = domClassManager\n\t\tthis.using = [] // array of plugins using by this dragon\n\t\tthis.config = config\n\t\tthis.defaults = {\n\t\t\tmouseEvents: true,\n\t\t\tmirrorAbsolute: false,\n\t\t\tmirrorWithParent: true,\n\t\t\tmirrorContainer: null,\n\t\t}\n\t\tthis.id = config.id || 'dragonID_' + Date.now()\n\t\tthis.containers = []\n\n\t\t// init\n\n\t\tthis.initSpace( config.space )\n\t\tthis.space = space\n\t\tspace.dragons.push( this )\n\n\t\tthis.addContainers()\n\t}\n\n\t@middle\n\tinitSpace( newSpace ) {\n\n\t\tif ( newSpace )\n\n\t\t\tspace = newSpace\n\n\t\tif ( !space.dragons ) { // initialisation\n\n\t\t\tspace.dragons = []\n\t\t\tspace.drags = []\n\t\t\tspace.utils = this.utils\n\n\t\t\tthis.domEventManager( document.documentElement, 'add', 'mousedown', e => {\n\n\t\t\t\tif( this.utils.whichMouseButton(e) == 3 ) return // prevent right click dragging\n\n\t\t\t\te.preventDefault() // fixes github.com/bevacqua/dragula/issues/155\n\n\t\t\t\tif ( this.utils.isInput( e.target ) ) {\n\t\t\t\t\t// see also: github.com/bevacqua/dragula/issues/208\n\t\t\t\t\te.target.focus() // fixes github.com/bevacqua/dragula/issues/176\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tthis.grab( e.clientX, e.clientY, e.target )\n\t\t\t} )\n\t\t}\n\n\t\tif ( !space.Dragon )\n\n\t\t\tspace.Dragon = Dragon\n\t}\n\n\t@middle\n\taddContainers( containerElms, config ) {\n\n\t\tcontainerElms = containerElms || this.config.containers\n\n\t\tif ( !containerElms ) return\n\n\t\tcontainerElms = this.utils.ensureArray( containerElms )\n\n\t\tlet len = containerElms.length\n\t\tlet addedContainers = []\n\n\t\tfor ( let i = 0, elm, container; i < len; i++ ) {\n\n\t\t\telm = containerElms[ i ]\n\n\t\t\tif ( this.getContainer( elm ) ) {\n\n\t\t\t\t/* eslint-disable no-console */\n\t\t\t\tconsole.warn( 'container already registered', elm )\n\t\t\t\t/* eslint-enable no-console */\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\tcontainer = new Container( this, elm, config )\n\t\t\t\tthis.containers.push( container )\n\t\t\t\taddedContainers.push( container )\n\t\t\t}\n\t\t}\n\n\t\treturn addedContainers\n\t}\n\n\t@middle\n\tgetContainer( elm, own ) {\n\n\t\tif ( own )\n\t\t\treturn this.containers[ this.utils.getIndexByElm( this.containers, elm ) ]\n\n\t\tlet dragons = space.dragons\n\t\tlet dragonsLen = dragons.length\n\n\t\tfor ( let i = 0, ii; i < dragonsLen; i++ ) {\n\n\t\t\tii = this.utils.getIndexByElm( dragons[ i ].containers, elm )\n\n\t\t\tif ( ii > -1 )\n\t\t\t\treturn dragons[ i ].containers[ ii ]\n\t\t}\n\n\t\treturn null\n\t}\n\n\t@middle\n\tgrab( xOrElm, y ) {\n\n\t\tlet itemElm = y == undefined ? xOrElm : doc.elementFromPoint( xOrElm, y )\n\t\tlet parentElm = itemElm\n\t\tlet container\n\t\tlet index\n\t\tlet drag\n\n\t\tdo {\n\t\t\titemElm = parentElm // drag target should be a top element\n\t\t\tparentElm = this.utils.getParent( itemElm )\n\t\t}\n\t\twhile ( parentElm && !this.getContainer( parentElm ) )\n\n\t\tif ( !parentElm ) {\n\t\t\t// container not found, so don't grab\n\t\t\treturn\n\t\t}\n\n\t\tindex = this.utils.getIndexByElm( this.containers, parentElm )\n\t\tcontainer = this.containers[ index ]\n\t\tdrag = container.grab( itemElm )\n\t\tspace.drags.push( drag )\n\t\treturn drag\n\t}\n\n\t@middle\n\tfindDropTarget( target ) {\n\n\t\twhile ( target && !this.getContainer( target ) ) {\n\t\t\ttarget = this.utils.getParent( target )\n\t\t}\n\n\t\treturn target\n\t}\n\n\t@middle\n\tgetConfig( prop ) {\n\n\t\tprop = this.config.hasOwnProperty( prop ) ? this.config[ prop ] : this.defaults[ prop ]\n\t\treturn typeof prop == 'function' ? prop() : prop\n\t}\n\n\t@middle\n\tuse( plugins ) {\n\n\t\tif ( !Array.isArray( plugins ) )\n\t\t\tplugins = [ plugins ]\n\n\t\tplugins.forEach( plugin => this.using.indexOf( plugin ) > -1 ? 0 : plugin( this ) )\n\n\t\treturn this;\n\t}\n\n}\n","'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n"],"names":["middle","e","t","_","n","Array","prototype","slice","call","arguments","_m_ctx","this","_m_stack","length","_m_index","apply","unshift","use","push","bind","decorator","writable","i","enumerable","get","value","Object","defineProperty","getImmediateChild","dropTarget","target","immediate","getParent","docElm","getReference","x","y","direction","abs","resolve","after","nextEl","horizontal","getScroll","rect","getBoundingClientRect","left","getRectWidth","top","getRectHeight","len","children","el","width","height","getCoord","coord","host","getEventHost","missMap","targetTouches","changedTouches","whichMouseButton","touches","which","buttons","button","getOffset","size","result","scrollProp","offsetProp","global","clientHeight","doc","body","getElementBehindPoint","elmToHide","state","className","elementFromPoint","right","bottom","parentNode","nextElementSibling","sibling","nextSibling","nodeType","toArray","obj","ensureArray","it","isArray","methodName","bindedName","domIndexOf","parent","child","indexOf","isInput","tagName","isEditable","contentEditable","getIndexByElm","sourceArray","elm","useNative","p","NativeCustomEvent","detail","foo","type","addEventEasy","fn","capturing","addEventListener","addEventHard","attachEvent","wrap","removeEventEasy","removeEventListener","removeEventHard","listener","unwrap","detachEvent","fabricateEvent","model","eventmap","customEvent","createEvent","initEvent","createEventObject","dispatchEvent","fireEvent","wrapperFactory","originalEvent","event","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","keyCode","wrapper","find","hardCache","splice","item","element","touchy","op","touch","pointers","microsoft","navigator","pointerEnabled","msPointerEnabled","lookup","cached","cache","lastIndex","RegExp","start","end","add","current","test","rm","replace","trim","dragon","config","Dragon","utils","classes","DOMTokenList","split","window","Element","document","documentElement","join","token","contains","toString","index","remove","prop","getter","__defineGetter__","Drag","id","Date","now","itemElm","sourceContainer","container","source","domEventManager","domClassManager","findDropTarget","getConfig","mouseEvents","release","_mousemove","requestAnimationFrame","move_e","_mousemoveAF","mousemove","startByMouseMove","cancel","drag","actualFrame","undefined","clientX","clientY","offset","_cachedAbs","_cachedDir","itemPosition","itemOffsetX","itemOffsetY","initialSibling","currentSibling","renderMirrorImage","mirrorX","mirrorY","mirror","style","elementBehindPoint","reference","insertBefore","mirrorContainer","cloneNode","appendChild","removeChild","cancelAnimationFrame","drop","getContainer","addItem","cleanup","reverts","isInitialPlacement","removeMirrorImage","s","Item","hasOwnProperty","Container","items","_initItems","grab","itemOrElm","init","arr","_initItem","dragonSpace","space","containers","using","defaults","initSpace","dragons","addContainers","newSpace","drags","_this","focus","containerElms","addedContainers","warn","own","ii","dragonsLen","xOrElm","parentElm","plugins","forEach","_this2","plugin","CustomEvent","params","initCustomEvent","bubbles","cancelable","Boolean","eventname","ron","addEvent","removeEvent"],"mappings":"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"}