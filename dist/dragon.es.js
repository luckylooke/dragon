function middle(t,e){var r=function e(){var i=Array.prototype.slice.call(arguments);return void 0===r._m_ctx&&(r._m_ctx=this),r._m_stack.length===r._m_index?(r._m_index=0,t.apply(r._m_ctx,i)):(i.unshift(e),r._m_stack[r._m_index++].apply(r._m_ctx,i))};return r._m_stack=[],r._m_index=0,r._m_ctx=e,r.use=function(t,e){r._m_stack.push(t.bind(e))},r}function decorator(t,e,r){if(t){var i=r.writable,o=r.enumerable;return{get:function(){var t=middle(r.value,this);return Object.defineProperty(this,e,{value:t,writable:i,enumerable:o}),t}}}}function _applyDecoratedDescriptor$3(t,e,r,i,o){var n={};return Object.keys(i).forEach(function(t){n[t]=i[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(t,e,r)||r},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(t,e,n),n=null),n}function _applyDecoratedDescriptor$2(t,e,r,i,o){var n={};return Object.keys(i).forEach(function(t){n[t]=i[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(t,e,r)||r},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(t,e,n),n=null),n}function _applyDecoratedDescriptor$1(t,e,r,i,o){var n={};return Object.keys(i).forEach(function(t){n[t]=i[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(t,e,r)||r},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(t,e,n),n=null),n}function _applyDecoratedDescriptor(t,e,r,i,o){var n={};return Object.keys(i).forEach(function(t){n[t]=i[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(t,e,r)||r},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(t,e,n),n=null),n}function getImmediateChild(t,e){for(var r=e;r!==t&&getParent(r)!==t;)r=getParent(r);return r===docElm$1?null:r}function getReference(t,e,r,i,o,n){function s(t){return t?nextEl(e):e}var a="horizontal"===o;return n&&(r-=getScroll("scrollLeft","pageXOffset"),i-=getScroll("scrollTop","pageYOffset")),e!==t?function(){var t=e.getBoundingClientRect();return s(a?r>t.left+getRectWidth(t)/2:i>t.top+getRectHeight(t)/2)}():function(){var e=t.children.length,o=void 0,n=void 0,s=void 0;for(o=0;o<e;o++){if(n=t.children[o],s=n.getBoundingClientRect(),a&&s.left+s.width/2>r)return n;if(!a&&s.top+s.height/2>i)return n}return null}()}function getCoord(t,e){var r=getEventHost(e),i={pageX:"clientX",pageY:"clientY"};return t in i&&!(t in r)&&i[t]in r&&(t=i[t]),r[t]}function getEventHost(t){return t.targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t}function whichMouseButton(t){if(void 0!==t.touches)return 1;if(void 0!==t.which&&0!==t.which)return t.which;if(void 0!==t.buttons)return t.buttons;var e=t.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function getOffset(t,e){var r=t.getBoundingClientRect(),i={left:r.left+getScroll("scrollLeft","pageXOffset"),top:r.top+getScroll("scrollTop","pageYOffset")};return e&&(i.width=getRectWidth(r),i.height=getRectHeight(r)),i}function getScroll(t,e){return void 0!==global[e]?global[e]:docElm$1.clientHeight?docElm$1[t]:doc$1.body[t]}function getElementBehindPoint(t,e,r,i){var o=t.className,n=void 0;return t.className+=" gu-hide",n=doc$1.elementFromPoint(i?e-getScroll("scrollLeft","pageXOffset"):e,i?r-getScroll("scrollTop","pageYOffset"):r),t.className=o,n}function getRectWidth(t){return t.width||t.right-t.left}function getRectHeight(t){return t.height||t.bottom-t.top}function getParent(t){return t.parentNode===doc$1?null:t.parentNode}function nextEl(t){return t.nextElementSibling||function(){var e=t;do{e=e.nextSibling}while(e&&1!==e.nodeType);return e}()}function toArray$1(t){return[].slice.call(t)}function ensureArray(t){return Array.isArray(t)?t:t.length&&0!=t.length?toArray$1(t):[t]}function bind(t,e){var r="_binded_"+e;return t[r]||(t[r]=function(){return t[e].apply(t,arguments)}),t[r]}function domIndexOf(t,e){return Array.prototype.indexOf.call(t.children,e)}function isInput(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||isEditable(t)}function isEditable(t){return!!t&&("false"!==t.contentEditable&&("true"===t.contentEditable||isEditable(getParent(t))))}function getIndexByElm(t,e){for(var r=t.length,i=0;i<r;i++)if(t[i].elm==e)return i;return-1}function useNative(){try{var t=new NativeCustomEvent("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}function addEventEasy(t,e,r,i){return t.addEventListener(e,r,i)}function addEventHard(t,e,r){return t.attachEvent("on"+e,wrap(t,e,r))}function removeEventEasy(t,e,r,i){return t.removeEventListener(e,r,i)}function removeEventHard(t,e,r){var i=unwrap(t,e,r);if(i)return t.detachEvent("on"+e,i)}function fabricateEvent(t,e,r){var i=-1===eventmap_1.indexOf(e)?function(){return new index(e,{detail:r})}():function(){var t;return doc$2.createEvent?(t=doc$2.createEvent("Event")).initEvent(e,!0,!0):doc$2.createEventObject&&(t=doc$2.createEventObject()),t}();t.dispatchEvent?t.dispatchEvent(i):t.fireEvent("on"+e,i)}function wrapperFactory(t,e,r){return function(e){var i=e||commonjsGlobal.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,r.call(t,i)}}function wrap(t,e,r){var i=unwrap(t,e,r)||wrapperFactory(t,e,r);return hardCache.push({wrapper:i,element:t,type:e,fn:r}),i}function unwrap(t,e,r){var i=find(t,e,r);if(i){var o=hardCache[i].wrapper;return hardCache.splice(i,1),o}}function find(t,e,r){var i,o;for(i=0;i<hardCache.length;i++)if((o=hardCache[i]).element===t&&o.type===e&&o.fn===r)return i}function touchy(t,e,r,i){var o={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},n={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},s={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};global.navigator.pointerEnabled?crossvent[e](t,n[r]||r,i):global.navigator.msPointerEnabled?crossvent[e](t,s[r]||r,i):(crossvent[e](t,o[r]||r,i),crossvent[e](t,r,i))}function lookup(t){var e=cache[t];return e?e.lastIndex=0:cache[t]=e=new RegExp(start+t+end,"g"),e}function add(t,e){var r=t.className;r.length?lookup(e).test(r)||(t.className+=" "+e):t.className=e}function rm(t,e){t.className=t.className.replace(lookup(e)," ").trim()}function dragon(t){return new Dragon(t,utils$1,touchy,classes)}!function(){function t(t){this.el=t;for(var e=t.className.replace(/^\s+|\s+$/g,"").split(/\s+/),i=0;i<e.length;i++)r.call(this,e[i])}if(!(void 0===window.Element||"classList"in document.documentElement)){var e=Array.prototype,r=e.push,i=e.splice,o=e.join;t.prototype={add:function(t){this.contains(t)||(r.call(this,t),this.el.className=this.toString())},contains:function(t){return-1!=this.el.className.indexOf(t)},item:function(t){return this[t]||null},remove:function(t){if(this.contains(t)){var e=void 0;for(e=0;e<this.length&&this[e]!=t;e++);i.call(this,e,1),this.el.className=this.toString()}},toString:function(){return o.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},window.DOMTokenList=t,function(t,e,r){Object.defineProperty?Object.defineProperty(t,e,{get:r}):t.__defineGetter__(e,r)}(Element.prototype,"classList",function(){return new t(this)})}}();var classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),_class$3,docElm=document.documentElement,Drag=(_class$3=function(){function t(e){classCallCheck(this,t),this.id="dragID_"+Date.now(),this.state="grabbed",this.item=e,this.itemElm=e.elm,this.sourceContainer=e.container,this.source=e.container.elm,this.dragon=this.sourceContainer.dragon,this.utils=this.dragon.utils,this.domEventManager=this.dragon.domEventManager,this.domClassManager=this.dragon.domClassManager,this.findDropTarget=this.dragon.findDropTarget.bind(this.dragon),this.getConfig("mouseEvents")&&this.mouseEvents()}return createClass(t,[{key:"destroy",value:function(){this.release(this.x,this.y)}},{key:"mouseEvents",value:function(t){this._mousemove||(window.requestAnimationFrame?(this.move_e=null,this._mousemove=this._mousemoveAF):this._mousemove=this.mousemove);var e=t?"remove":"add";this.domEventManager(docElm,e,"mouseup",this.utils.bind(this,"mouseup")),this.domEventManager(docElm,e,"mousemove",this.utils.bind(this,"_mousemove")),this.domEventManager(docElm,e,"selectstart",this.utils.bind(this,"protectGrab")),this.domEventManager(docElm,e,"click",this.utils.bind(this,"protectGrab"))}},{key:"protectGrab",value:function(t){"grabbed"==this.state&&t.preventDefault()}},{key:"mousemove",value:function(t){return t.target||(t=this.move_e,this.move_e=!1),"grabbed"==this.state?void this.startByMouseMove(t):"dragging"!=this.state?void this.cancel():(t.preventDefault(),void this.drag(this.utils.getCoord("clientX",t),this.utils.getCoord("clientY",t)))}},{key:"_mousemoveAF",value:function(t){this.move_e||(this.actualFrame=window.requestAnimationFrame(this.mousemove)),this.move_e=t}},{key:"startByMouseMove",value:function(t){if(void 0==this.x)return this.x=t.clientX,void(this.y=t.clientY);if(void 0===t.clientX||t.clientX!==this.x||void 0===t.clientY||t.clientY!==this.y){var e=this.utils.getOffset(this.itemElm);this.start(this.utils.getCoord("pageX",t)-e.left,this.utils.getCoord("pageY",t)-e.top)}}},{key:"start",value:function(t,e){if("grabbed"==this.state){t=t||0,e=e||0,this._cachedAbs=this.getConfig("mirrorAbsolute"),this._cachedDir=this.getConfig("direction");var r=this._cachedAbs?this.utils.getOffset(this.itemElm):this.itemElm.getBoundingClientRect();void 0==this.x&&(this.x=r.left+t),void 0==this.y&&(this.y=r.top+e),this.itemOffsetX=t,this.itemOffsetY=e,this.initialSibling=this.currentSibling=this.utils.nextEl(this.itemElm),this.domClassManager.add(this.itemElm,"gu-transit"),this.renderMirrorImage(this.itemElm,this.getConfig("mirrorContainer")),this.state="dragging"}}},{key:"drag",value:function(t,e){if("dragging"==this.state){var r=t-this.itemOffsetX,i=e-this.itemOffsetY,o=this.mirror;this.x=t,this.y=e,o.style.left=r+"px",o.style.top=i+"px";var n=this.utils.getElementBehindPoint(o,t,e,this._cachedAbs),s=this.findDropTarget(n),a=void 0,c=s&&this.utils.getImmediateChild(s,n);c&&(null===(a=this.utils.getReference(s,c,t,e,this._cachedDir,this._cachedAbs))||a!==this.itemElm&&a!==this.utils.nextEl(this.itemElm))&&(this.currentSibling=a,s.insertBefore(this.itemElm,a))}}},{key:"renderMirrorImage",value:function(t,e){var r=t.getBoundingClientRect(),i=this.getConfig("mirrorWithParent")?this.utils.getParent(t).cloneNode(!1):t.cloneNode(!0);this.getConfig("mirrorWithParent")&&i.appendChild(t.cloneNode(!0)),i.style.width=this.utils.getRectWidth(r)+"px",i.style.height=this.utils.getRectHeight(r)+"px",this.domClassManager.rm(i,"gu-transit"),this.getConfig("mirrorAbsolute")?this.domClassManager.add(i,"gu-mirror-abs"):this.domClassManager.add(i,"gu-mirror"),e||(e=(this.getConfig("mirrorWithParent")?this.utils.getParent(this.utils.getParent(t)):this.utils.getParent(t))||document.body),e.appendChild(i),this.domClassManager.add(e,"gu-unselectable"),this.mirror=i}},{key:"removeMirrorImage",value:function(){var t=this.utils.getParent(this.mirror);this.domClassManager.rm(t,"gu-unselectable"),t.removeChild(this.mirror),this.mirror=null}},{key:"mouseup",value:function(t){this.release(this.utils.getCoord("clientX",t),this.utils.getCoord("clientY",t))}},{key:"release",value:function(t,e){if(void 0==t&&(t=this.x),void 0==e&&(e=this.y),"dragging"!=this.state)return this.cancel();this.actualFrame&&(window.cancelAnimationFrame(this.actualFrame),this.actualFrame=!1);var r=this.utils.getElementBehindPoint(this.mirror,t,e,this._cachedAbs),i=this.findDropTarget(r);i&&i!==this.source?this.drop(i):this.cancel()}},{key:"drop",value:function(t){"dragging"==this.state&&(this.dragon.getContainer(t).addItem(this.item,this.utils.domIndexOf(t,this.itemElm)),this.state="dropped",this.cleanup())}},{key:"remove",value:function(){if("dragging"==this.state){var t=this.utils.getParent(this.itemElm);t&&t.removeChild(this.itemElm),this.state="removed",this.cleanup()}}},{key:"cancel",value:function(t){if("dragging"==this.state){var e=this.utils.getParent(this.itemElm);!1===this.isInitialPlacement(e)&&t&&this.source.insertBefore(this.itemElm,this.initialSibling)}this.state="cancelled",this.cleanup()}},{key:"cleanup",value:function(){this.mouseEvents("remove"),this.mirror&&this.removeMirrorImage(),this.itemElm&&this.domClassManager.rm(this.itemElm,"gu-transit")}},{key:"isInitialPlacement",value:function(t,e){var r=void 0;return r=void 0!==e?e:this.mirror?this.currentSibling:this.utils.nextEl(this.itemElm),t===this.source&&r===this.initialSibling}},{key:"getConfig",value:function(t){return this.item.getConfig(t)}}]),t}(),_applyDecoratedDescriptor$3(_class$3.prototype,"destroy",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"destroy"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"mouseEvents",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"mouseEvents"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"protectGrab",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"protectGrab"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"mousemove",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"mousemove"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"startByMouseMove",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"startByMouseMove"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"start",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"start"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"drag",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"drag"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"renderMirrorImage",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"renderMirrorImage"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"removeMirrorImage",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"removeMirrorImage"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"mouseup",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"mouseup"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"release",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"release"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"drop",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"drop"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"remove",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"remove"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"cancel",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"cancel"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"cleanup",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"cleanup"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"isInitialPlacement",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"isInitialPlacement"),_class$3.prototype),_applyDecoratedDescriptor$3(_class$3.prototype,"getConfig",[decorator],Object.getOwnPropertyDescriptor(_class$3.prototype,"getConfig"),_class$3.prototype),_class$3),_class$2,Item=(_class$2=function(){function t(e,r,i){classCallCheck(this,t),i||(i={}),this.config=i,this.id=i.id||"itemID_"+Date.now(),this.container=e,this.elm=r}return createClass(t,[{key:"grab",value:function(){return this.drag=new Drag(this),this.drag}},{key:"getConfig",value:function(t){return t=this.config.hasOwnProperty(t)?this.config[t]:this.container.getConfig(t),"function"==typeof t?t():t}}]),t}(),_applyDecoratedDescriptor$2(_class$2.prototype,"grab",[decorator],Object.getOwnPropertyDescriptor(_class$2.prototype,"grab"),_class$2.prototype),_applyDecoratedDescriptor$2(_class$2.prototype,"getConfig",[decorator],Object.getOwnPropertyDescriptor(_class$2.prototype,"getConfig"),_class$2.prototype),_class$2),_class$1,Container=(_class$1=function(){function t(e,r,i){classCallCheck(this,t),i||(i={}),this.config=i,this.id=i.id||"containerID_"+Date.now(),this.dragon=e,this.utils=e.utils,this.items=[],this.elm=r,this._initItems()}return createClass(t,[{key:"grab",value:function(t){var e=this.items[this.utils.getIndexByElm(this.items,t)];return e?e.grab():null}},{key:"_initItem",value:function(t){this.addItem(t,this.items.length,null,!0)}},{key:"addItem",value:function(t,e,r,i){e=e||0;var o=void 0;if(t instanceof Item?(t.container=this,o=t):o=new Item(this,t,r),this.items.splice(e,0,o),!i&&!this.elm.contains(o.elm)){var n=this.elm.children[e];n?this.elm.insertBefore(o.elm,n):this.elm.appendChild(o.elm)}return o}},{key:"removeItem",value:function(t){var e=void 0,r=void 0;return t instanceof Item?(t.container=null,e=this.items.indexOf(t)):e=this.utils.getIndexByElm(this.items,t),r=this.items.splice(e,1)[0],this.elm.contains(r.elm)&&this.elm.removeChild(r.elm),r}},{key:"_initItems",value:function(){for(var t=this.utils.toArray(this.elm.children),e=t.length,r=0;r<e;r++)this._initItem(t[r])}},{key:"getConfig",value:function(t){return t=this.config.hasOwnProperty(t)?this.config[t]:this.dragon.getConfig(t),"function"==typeof t?t():t}}]),t}(),_applyDecoratedDescriptor$1(_class$1.prototype,"grab",[decorator],Object.getOwnPropertyDescriptor(_class$1.prototype,"grab"),_class$1.prototype),_applyDecoratedDescriptor$1(_class$1.prototype,"addItem",[decorator],Object.getOwnPropertyDescriptor(_class$1.prototype,"addItem"),_class$1.prototype),_applyDecoratedDescriptor$1(_class$1.prototype,"removeItem",[decorator],Object.getOwnPropertyDescriptor(_class$1.prototype,"removeItem"),_class$1.prototype),_applyDecoratedDescriptor$1(_class$1.prototype,"getConfig",[decorator],Object.getOwnPropertyDescriptor(_class$1.prototype,"getConfig"),_class$1.prototype),_class$1),_class,doc=document;window.dragonSpace||(window.dragonSpace={});var space=window.dragonSpace,Dragon=(_class=function(){function t(e,r,i,o){classCallCheck(this,t),1==(e=e||{}).nodeType&&(e={containers:[e]}),this.utils=r,void 0!==e.length&&(e={containers:this.utils.ensureArray(e)}),this.domEventManager=i,this.domClassManager=o,this.using=[],this.config=e,this.defaults={mouseEvents:!0,mirrorAbsolute:!1,mirrorWithParent:!0,mirrorContainer:null},this.id=e.id||"dragonID_"+Date.now(),this.containers=[],this.initSpace(e.space),this.space=space,space.dragons.push(this),this.addContainers()}return createClass(t,[{key:"initSpace",value:function(e){var r=this;e&&(space=e),space.dragons||(space.dragons=[],space.drags=[],space.utils=this.utils,this.domEventManager(document.documentElement,"add","mousedown",function(t){if(3!=r.utils.whichMouseButton(t)){if(t.preventDefault(),r.utils.isInput(t.target))return void t.target.focus();r.grab(t.clientX,t.clientY,t.target)}})),space.Dragon||(space.Dragon=t)}},{key:"addContainers",value:function(t,e){if(t=t||this.config.containers){for(var r,i,o=(t=this.utils.ensureArray(t)).length,n=[],s=0;s<o;s++)r=t[s],this.getContainer(r)?console.warn("container already registered",r):(i=new Container(this,r,e),this.containers.push(i),n.push(i));return n}}},{key:"getContainer",value:function(t,e){if(e)return this.containers[this.utils.getIndexByElm(this.containers,t)];for(var r,i=space.dragons,o=i.length,n=0;n<o;n++)if((r=this.utils.getIndexByElm(i[n].containers,t))>-1)return i[n].containers[r];return null}},{key:"grab",value:function(t,e){var r=void 0==e?t:doc.elementFromPoint(t,e),i=r,o=void 0,n=void 0,s=void 0;do{r=i,i=this.utils.getParent(r)}while(i&&!this.getContainer(i));if(i)return n=this.utils.getIndexByElm(this.containers,i),o=this.containers[n],s=o.grab(r),space.drags.push(s),s}},{key:"findDropTarget",value:function(t){for(;t&&!this.getContainer(t);)t=this.utils.getParent(t);return t}},{key:"getConfig",value:function(t){return t=this.config.hasOwnProperty(t)?this.config[t]:this.defaults[t],"function"==typeof t?t():t}},{key:"use",value:function(t){var e=this;return Array.isArray(t)||(t=[t]),t.forEach(function(t){return e.using.indexOf(t)>-1?0:t(e)}),this}}]),t}(),_applyDecoratedDescriptor(_class.prototype,"initSpace",[decorator],Object.getOwnPropertyDescriptor(_class.prototype,"initSpace"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addContainers",[decorator],Object.getOwnPropertyDescriptor(_class.prototype,"addContainers"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getContainer",[decorator],Object.getOwnPropertyDescriptor(_class.prototype,"getContainer"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"grab",[decorator],Object.getOwnPropertyDescriptor(_class.prototype,"grab"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"findDropTarget",[decorator],Object.getOwnPropertyDescriptor(_class.prototype,"findDropTarget"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getConfig",[decorator],Object.getOwnPropertyDescriptor(_class.prototype,"getConfig"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"use",[decorator],Object.getOwnPropertyDescriptor(_class.prototype,"use"),_class.prototype),_class),doc$1=document,docElm$1=doc$1.documentElement,utils={},utils$1=Object.freeze({default:utils,getImmediateChild:getImmediateChild,getReference:getReference,getCoord:getCoord,getEventHost:getEventHost,whichMouseButton:whichMouseButton,getOffset:getOffset,getScroll:getScroll,getElementBehindPoint:getElementBehindPoint,getRectWidth:getRectWidth,getRectHeight:getRectHeight,getParent:getParent,nextEl:nextEl,toArray:toArray$1,ensureArray:ensureArray,bind:bind,domIndexOf:domIndexOf,isInput:isInput,isEditable:isEditable,getIndexByElm:getIndexByElm}),commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},NativeCustomEvent=commonjsGlobal.CustomEvent,index=useNative()?NativeCustomEvent:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var r=document.createEvent("CustomEvent");return e?r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):r.initCustomEvent(t,!1,!1,void 0),r}:function(t,e){var r=document.createEventObject();return r.type=t,e?(r.bubbles=Boolean(e.bubbles),r.cancelable=Boolean(e.cancelable),r.detail=e.detail):(r.bubbles=!1,r.cancelable=!1,r.detail=void 0),r},eventmap=[],eventname="",ron=/^on/;for(eventname in commonjsGlobal)ron.test(eventname)&&eventmap.push(eventname.slice(2));var eventmap_1=eventmap,doc$2=commonjsGlobal.document,addEvent=addEventEasy,removeEvent=removeEventEasy,hardCache=[];commonjsGlobal.addEventListener||(addEvent=addEventHard,removeEvent=removeEventHard);var crossvent={add:addEvent,remove:removeEvent,fabricate:fabricateEvent},cache={},start="(?:^|\\s)",end="(?:\\s|$)",classes={add:add,rm:rm};export default dragon;
//# sourceMappingURL=dragon.es.js.map
